@use 'sass:map';

%pl1 {
  padding-left: 1rem;
}

%pl-standard {
  padding-left: 8.333325vw;
}

%db {
  display: block;
}

/*
 * nav button sizing
 * p = text padding
 * t = line-height (not font-size!)
 * x = 2p + t
 * p = x - t / 2
 */

$vars: (
  'rootTextSize': 16px,
  'minTextSize': 1.5rem,
  'maxTextSize': 36px,
  'fluidTextSize': 2vw,
  'relativeTextSize': 1rem,
  'viewport-full': 100vw,
  'visible-full': 100%,
);

@function oneThirdVisible($width) {
  @return calc($width / 3);
}

@function preferredTextSize($fluid, $relative) {
  @return calc($fluid + $relative);
}

@function navTextSize($min, $pref, $max) {
  @return clamp($min, $pref, $max);
}

@function centerPadding($height, $text) {
  @return calc(($height - $text) / 2);
}

$navbar-values: (
  'boxWidth': oneThirdVisible(map.get($vars, 'visible-full')),
  'text':
    navTextSize(
      map.get($vars, 'minTextSize'),
      preferredTextSize(
        map.get($vars, 'fluidTextSize'),
        map.get($vars, 'relativeTextSize')
      ),
      map.get($vars, 'maxTextSize')
    ),
  'squareBox':
    centerPadding(
      oneThirdVisible(map.get($vars, 'visible-full')),
      navTextSize(
        map.get($vars, 'minTextSize'),
        preferredTextSize(
          map.get($vars, 'fluidTextSize'),
          map.get($vars, 'relativeTextSize')
        ),
        map.get($vars, 'maxTextSize')
      )
    ),
);

$navbar: map-merge($vars, $navbar-values);

@function navbar($key) {
  @return map-get($navbar, $key);
}

@mixin nav-link {
  text-decoration: none;
  text-align: center;
  font-family: 'Alata';
}
